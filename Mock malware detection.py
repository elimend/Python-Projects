import requests
import hashlib

API_KEY = "your_api_key"
file_path = input("Enter the path to the file: ")

with open(file_path, "rb") as f:
    file_content = f.read()

file_hash = hashlib.md5(file_content).hexdigest()

params = {'apikey': API_KEY, 'resource': file_hash}

response = requests.get('https://www.virustotal.com/vtapi/v2/file/report', params=params)

if response.status_code == 200:
    response_json = response.json()
    if response_json['response_code'] == 0:
        print("No results found on VirusTotal.")
    elif response_json['positives'] > 0:
        print(f"VirusTotal detection rate: {response_json['positives']}/{response_json['total']}")
    else:
        print("File is clean according to VirusTotal.")
else:
    print("Error occurred while connecting to VirusTotal.")
